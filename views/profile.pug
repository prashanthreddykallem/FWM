html
    head
        
        meta(name="viewport" content="width=device-width, initial-scale=1")
        link(rel='stylesheet', href='http://fonts.googleapis.com/css?family=Roboto:300,400,500,700', type='text/css')
        link(rel='stylesheet', href='https://fonts.googleapis.com/icon?family=Material+Icons')
        style
            include ./css/stylehp.css            
            include ./css/material.min.css            
        script
            include ./css/material.min.js 
        script
            include ./css/search.js   
        script 
            include ./css/jquery.js              
        script(src='./css/material.min.js')         
        title  Profile
        - var fdetails = JSON.parse(name).username
        - var details = JSON.parse(name).workshops     
    .mdl-layout.mdl-js-layout.mdl-layout--fixed-header
        header.mdl-layout__header
            .mdl-layout__header-row
                // Title
                span.mdl-layout-title Faculty Workshop Management
                // Add spacer, to align navigation to the right
                .mdl-layout-spacer
                // Navigation. We hide it in small screens.
                nav.mdl-navigation.mdl-layout--large-screen-only
                    a.mdl-navigation__link(href='') Logout
        div.main
            h1.text-center(color:#515151) Faculty Details
            h2.text-center(color:#515151)="Welcome " + fdetails
            script.
                function convertDate(d) {
                    var p = d.split("/");
                    return +(p[2]+p[1]+p[0]);
                    }

                function sortByDate() {
                    var tbody = document.querySelector("#results tbody");
                    // get trs as array for ease of use
                    var rows = [].slice.call(tbody.querySelectorAll("tr"));

                    rows.sort(function(a,b) {
                    return convertDate(a.cells[0].innerHTML) - convertDate(b.cells[0].innerHTML);
                    });

                    rows.forEach(function(v) {
                    tbody.appendChild(v); // note that .appendChild() *moves* elements
                    });
                }
                $(document).ready(function(){
                    $("#myInput").on("keyup", function() {
                        var value = $(this).val().toLowerCase();
                        $("#myTable tr").filter(function() {
                            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                                                        });
                                                    });                  
                                    });
            input#myInput(type='text', onkeyup="myFunction()"  placeholder='Search for names..')
            table#myTable.mdl-data-table.mdl-js-data-table.mdl-shadow--2dp
                thead
                    tr
                        th.mdl-data-table__cell--non-numeric Title
                        th.mdl-data-table__cell--non-numeric Duration
                        th.mdl-data-table__cell--non-numeric Organized by 
                        th.mdl-data-table__cell--non-numeric Sponsored
                        th Fees
                        th.mdl-data-table__cell--non-numeric Date
                        //- th.mdl-data-table__cell--non-numeric UID
                        th.mdl-data-table__cell--non-numeric Edit
                        th.mdl-data-table__cell--non-numeric Upload/Delete Certificate
                        th.mdl-data-table__cell--non-numeric View Certificate
                        th.mdl-data-table__cell--non-numeric Delete Workshop                        

                    //- tr
                    //-     td #{JSON.parse(name)[0]["Title"]}
                    //-     td #{JSON.parse(name)[0]["Duration"]}
                    //-     td #{JSON.parse(name)[0]["Organized"]}
                    //-     td #{JSON.parse(name)[0]["Sponsored"]}
                    //-     td #{JSON.parse(name)[0]["Fee"]}
                    //-     td #{JSON.parse(name)[0]["UID"]}
                    //-     td
                    //-         button(type="button" class="mdl-button mdl-js-button mdl-button--raised  mdl-button--colored butn" onclick='location.href="/edit#{JSON.parse(name)[0][/"UID"/]}"') edit
                    //-     td
                    //-         button(type="button" class="mdl-button mdl-js-button mdl-button--raised  mdl-button--colored butn" onclick='location.href="/upload"') Upload Certificate
                tbody
                    each val in details
                        tr
                            td #{val.Title}
                            td #{val.Duration}
                            td #{val.Organized}
                            td #{val.Sponsored}
                            td #{val.Fee}
                            td #{val.Date}
                            //- td #{val._id}
                            td
                                button(type="button" class="mdl-button mdl-js-button mdl-button--raised  mdl-button--colored butn" onclick=`window.location.replace("edit/"+${JSON.stringify(fdetails)}+"/"+${JSON.stringify(val.Title)})`) edit
                            td
                                button(type="button" class="mdl-button mdl-js-button mdl-button--raised  mdl-button--colored butn" onclick=`window.location.replace("upload/"+${JSON.stringify(fdetails)}+"/"+${JSON.stringify(val.UID)})`) U/D Certificate               
                            td
                                button(type="button" class="mdl-button mdl-js-button mdl-button--raised  mdl-button--colored butn" onclick=`window.location.replace("upload/"+${JSON.stringify(fdetails)}+"/"+${JSON.stringify(val.UID)})`) View Certificate
                            td
                                button(type="button" class="mdl-button mdl-js-button mdl-button--raised  mdl-button--colored butn" onclick=`window.location.replace("upload/"+${JSON.stringify(fdetails)}+"/"+${JSON.stringify(val.UID)})`) Delete Workshop    
            button(type="button"  class="mdl-button mdl-js-button mdl-button--raised  mdl-button--colored butn" onclick=`window.location.replace("addDetails/"+${JSON.stringify(fdetails)})`) Add New Workshops